<!-- hide dryRun and update version number, before deployment -->

<!DOCTYPE html>
<html>
  <head>
    <base target="_top" />
    <!-- <title>Add 加油 ("jiā yóu") Events</title> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@materializecss/materialize@2.2.2/dist/css/materialize.min.css">
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/@materializecss/materialize@2.2.2/dist/js/materialize.min.js"></script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@100..900&display=swap" rel="stylesheet">    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Symbols+2&display=swap" rel="stylesheet">
    <?!= include('Style') ?>
  </head>
  <body onload="load()">
    <header>
      <h1 id="sansFixed">Add</h1><h1 id="serifFixed"> 加油 </h1><h1 id="sansFixed">Events</h1>
      <br><br>
      <div id="user">&nbsp;</div>
      <br>
      <label>
        <input type="checkbox" class="filled-in" id="chinese" name="chinese" />
        <span>中文</span>
      </label>
</header>

    <!-- <br /> -->

    <main>
      <form id="calendarForm">
        <section class="section">
          <div class="container">
            <!-- <div id="search"> -->
            <div id="section" name="searchSection">Search Parameters</div>
            <!-- <br /> -->

            <h5 id="calendarHeader">Calendar</h5>
            <div class="input-field">
              <select id="calendarName">
                <!-- <option value="" disabled selected>Searching... (搜索中)</option> populate later in DOMContentLoaded event listener --> 
              </select>
              <!-- <label for="calendarName">Must already exist</label> -->
              <span name="calendarName" class="extra">Must already exist</span>
            </div>
            <br/>

            <text id="queryEndRef" name="queryEndRef"></text> <!-- hidden -->

            <!-- <label for="calendarNameRef"></label> -->
            <text id="calendarNameRef" name="calendarNameRef"></text> <!-- hidden -->
            <!-- <text>Calendar must already exist</text> -->
            <!-- <br /><br /> -->
            
            <!-- <label for="howMany"></label> -->
            <text id="howMany" name="howMany"></text> <!-- hidden -->

            <!-- <label for="weekStartRef"></label> -->
            <text id="weekStartRef" name="weekStartRef"></text> <!-- hidden -->

            <!-- <label for="weekStopRef"></label> -->
            <text id="weekStopRef" name="weekStopRef"></text> <!-- hidden -->

            <h5 id="letterDayHeader">Letter Days</h5>
            <!-- <label for="days">On which to add events</label> -->
            <div id="table" class="days">
              <div id="row">
                <div id="cell">
                  <label>
                    <input type="checkbox" class="filled-in" name="letters" value="J Day" unchecked />
                    <span>J</span>
                  </label>
                </div>
                <div id="cell">
                  <label>
                    <input type="checkbox" class="filled-in" name="letters" value="I Day" unchecked />
                    <span>I</span>
                  </label>
                </div>
                <div id="cell">
                  <label>
                    <input type="checkbox" class="filled-in" name="letters" value="A Day" unchecked />
                    <span>A</span>
                  </label>
                </div>
              </div>
              <div id="row">
                <div id="cell">
                  <label>
                    <input type="checkbox" class="filled-in" name="letters" value="Y Day" unchecked />
                    <span>Y</span>
                  </label>
                </div>
                <div id="cell">
                  <label>
                    <input type="checkbox" class="filled-in" name="letters" value="O Day" unchecked />
                    <span>O</span>
                  </label>
                </div>
                <div id="cell">
                  <label>
                    <input type="checkbox" class="filled-in" name="letters" value="U Day" unchecked />
                    <span>U</span>
                  </label>
                </div>
              </div>
            </div>
            <!-- prefilled for clarity -->
            <br/>

            <h5 id="frequencyHeader">Frequency</h5>
            <div class="input-field">
              <input
                id="frequency"
                type="number"
                name="frequency"
                value="1"
                min="1"
                max="4"
                step="1"
                placeholder="Optional"
              />
              <!-- <label for="numberInput">Every one, two or three letter days</label> -->
              <span name="numberInput" class="extra">Every one, two or three letter days</span>
            <!-- </div> -->

            <br/>

            <h5 id="weeklyHeader">Week</h5>
            <div id="table">
              <div id="row">
                <div id="cell">
                  <div class="input-field">
                    <input 
                      id="weekStart" 
                      type="number" 
                      name="weekStart"
                      min="1"
                      max="30"
                      step="1"
                      placeholder="Optional"
                    />
                    <!-- script will define value and update min and max, 30 is likely and arbitrary -->
                  </div>
                </div>
                <div id="cell" class="mid">
                  &emsp;&ndash;&emsp;
                </div>
                <div id="cell">
                  <div class="input-field">
                    <input 
                      id="weekStop" 
                      type="number" 
                      name="weekStop"
                      min="1"
                      max="30"
                      step="1"
                      placeholder="Optional"
                    />
                    <!-- script will define value and update min and max, 30 is likely and arbitrary -->
                  </div>
                </div>
              </div>
            </div>
          </div>

          <br/>

        </section>
        <section class="section">
          <div class="container">
            <!-- <div id="settings"> -->
            <div id="section" name="eventSection">Event Settings</div>
            <!-- <br /> -->

            <!-- <label for="calendarNameAlt">Alternate calendar name:</label> -->
            <!-- <input -->
            <!-- type="text" -->
            <!-- id="calendarNameAlt" -->
            <!-- name="calendarNameAlt" -->
            <!-- placeholder="Optional" -->
            <!-- /> -->
            <!-- <text -->
            <!-- >Create events on an alternate calendar on the same letter day</text -->
            <!-- ><br /> -->
            <!-- <br /> -->

            <h5 id="titleHeader">Title</h5>
            <div class="input-field">
              <input id="title" type="text" class="validate" value="New Meeting" required />
              <!-- <label for="title">of events</label> -->
              <!-- <span name="title" class="extra">of events</span> -->
            </div>
            <!-- prefilled for convenience -->
            <br>

            <h5 id="timeHeader">Time</h5>
            <!-- <label for="times">HH:MM AM/PM, HH:MM (24-hour)</label> -->
            <div id="table">
              <div id="row">
                <div id="cell">
                  <div class="input-field">
                    <input id="startTime" type="text" class="validate" placeholder="Optional" value="10:00 AM" />
                    <!-- <label for="startTime">Start</label> -->
                  </div>
                </div>
                <div id="cell" class="mid">
                  &emsp;&ndash;&emsp;
                </div>
                <div id="cell">
                  <div class="input-field">
                    <input id="endTime" type="text" class="validate" placeholder="Optional" value="11:00 AM" />
                    <!-- <label for="endTime">End</label> -->
                  </div>                   
                </div>
              </div>
            </div>
            <!-- <label for="times" class="extra">HH:MM AM/PM, HH:MM (24-hour)</label> -->
            <span name="times" class="extra">HH:MM AM/PM, HH:MM (24-hour)</span>
            <!-- prefilled for clarity -->
            <br/><br><br>
            <!-- </div> -->

            <!-- <div class="container"> -->
            <ul class="collapsible">
              <li>
                <div class="collapsible-header">
                  <span name="collapsible-header">Guests,&nbsp;Location,&nbsp;Description,&nbsp;Date</span>
                </div>
                <div class="collapsible-body">

                  <h5 id="guestsHeader">Guests</h5>
                  <div class="input-field">
                    <textarea id="guests" class="materialize-textarea" placeholder="Optional"></textarea>
                    <!-- <label for="guests">List email addresses, comma-separated</label> -->
                    <span name="guests" class="extra">List email addresses, comma-separated</span>
                  </div>
                  <!-- send invitation emails manually -->
                  <br>
      
                  <h5 id="locationHeader">Location</h5>
                  <div class="input-field">
                    <input id="location" type="text" class="validate" placeholder="Optional" />
                    <!-- <label for="location">of events</label> -->
                    <!-- <span name="location" class="extra">of events</span> -->
                  </div>
                  <br>
      
                  <h5 id="descriptionHeader">Description</h5>
                  <div class="input-field">
                    <textarea id="description" class="materialize-textarea" placeholder="Optional"></textarea>
                    <!-- <label for="description">String or full URL</label> -->
                    <span name="description" class="extra">String or full URL</span>
                  </div>
                  <!-- If full URL, then text to display will be "Agenda" -->
                  <br>
      
                  <h5 id="dateHeader">Date</h5>
                  <!-- <label for="dates">Mmm DD YYYY, MM/DD/YYYY, YYYY-MM-DD</label> -->
                  <div id="table">
                    <div id="row">
                      <div id="cell">
                        <div class="input-field">
                          <input id="start" type="text" class="validate" placeholder="Optional" />
                          <!-- <label for="start">Start</label> -->
                          <!-- replacing placeholder="Optional" with the current date is a good idea for convenience -->
                        </div>
                      </div>
                      <div id="cell" class="mid">
                        &emsp;&ndash;&emsp;
                      </div>
                      <div id="cell">
                        <div class="input-field">
                          <input id="end" type="text" class="validate" placeholder="Optional" />
                          <!-- <label for="end">End</label>                     -->
                          <!-- <input type="text" id="end" name="end" placeholder="6/12/2025" /> redundant since internal calendar events end same date -->
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- <label for="dates" class="extra">Mmm DD YYYY, MM/DD/YYYY, YYYY-MM-DD</label> -->
                  <span name="dates" class="extra">Mmm DD YYYY, MM/DD/YYYY, YYYY-MM-DD</span>
                  <!-- Confine date range -->
                  <br><br><br>

                  <!-- <label for="startRef"></label> -->
                  <text id="startRef" name="startRef"></text> <!-- to prevent date drift -->

                  <!-- <label for="endRef"></label> -->
                  <text id="endRef" name="endRef"></text> <!-- to prevent date drift -->
      
                </div>
              </li>
            </ul>
            <!-- </div> -->

            <br />

            <div id="dry">
              <label>
                <!-- add "hidden" to label tag above to hide dryRun-->
                <input type="checkbox" class="filled-in" id="dryRun" unchecked/>
                <span id="dryRunText">Dry Run</span>
                <!-- test script before running it in production, hide for production by commenting or removing these lines of code -->
              </label>
            </div>

            <br />

            <div class="button">
              <button class="btn filled rounded waves-effect waves-light" type="submit" id="button">Submit</button>
            </div>

            <br>
          
            <div id="wait">&nbsp;</div>
            <!-- id="wait" div displays function return messages -->
          </div>
        </section>
      </form>
    </main>

    <footer>
      <p>
        <text name="difficulties">Technical difficulties? Search issues or open a new one on
        <a href="https://github.com/saegl5/jiayou_add_events/issues">GitHub</a>.</text>
        <br>
        <text class="reference" name="reference"
          >Version </text><text class="reference">2.15.0</text
        >
        <!-- Latest tag that includes major updates, minor updates, or bug fixes -->
      </p>
    </footer>
  
    <?!= include('Script') ?>

  </body>
</html>
